<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>

	<h1>Computação Distribuída - Web Socket</h1>


	<br />
	<input id="nome" name="nome" type="text" placeholder="Seu Nome:">
	<br />
	<input id="mensagem" name="mensagem" type="text" placeholder="Sua Mensagem:">
	
	<br>
	<input onclick="enviar();" value="Enviar" type="button">


	<br />	<br />
	Chat Log
	<br />
	<textarea readonly="readonly" rows="6" cols="50" id="log"></textarea>
	
	<script>
		
		var websocket = new WebSocket("ws://192.168.4.100:8080/noturno.chat/chat");
		
		websocket.onmessage = function(evt){
			
			document.getElementById('log').innerHTML += evt.data + "\n"
			
		};
		
		function enviar(){
			
			var nome = document.getElementById('nome').value;
			var mensagem = document.getElementById('mensagem').value;
			
			websocket.send(nome+": "+mensagem);
			
		}
	
	</script>


</body>
</html>